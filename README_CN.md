# RustDesk è‡ªå®šä¹‰ ID å·¥å…·

## ğŸ“– ç®€ä»‹

>   æ³¨æ„ï¼Œå¦‚æœæŸä¸ªIDæ— æ•ˆè¢«é‡ç½®ï¼Œå¯èƒ½æ˜¯IDè¿‡çŸ­æˆ–è¢«å ç”¨ï¼Œè¯·å°è¯•ä½¿ç”¨å…¶ä»–ID

æœ¬é¡¹ç›®æ—¨åœ¨ä¸º `RustDesk` æä¾›è‡ªå®šä¹‰ ID ç”ŸæˆåŠŸèƒ½ï¼Œæ–¹ä¾¿ç”¨æˆ·è®°å¿†å’Œç®¡ç†è®¾å¤‡ã€‚ä¸»è¦åŠŸèƒ½ä¸ºæ¨¡æ‹Ÿå®˜æ–¹åŠ å¯†ç®—æ³•ï¼Œå°†ç”¨æˆ·è¾“å…¥çš„è‡ªå®šä¹‰ ID åŠ å¯†å¹¶è¾“å‡ºåŠ å¯†åçš„ IDï¼Œå°†å…¶æ›¿æ¢åˆ°é…ç½®æ–‡ä»¶ä¸­çš„ `enc_id` å­—æ®µå³å¯ã€‚

`MacOS` é…ç½®æ–‡ä»¶ä½ç½®

-   `~/Library/Preferences/com.carriez.RustDesk/RustDesk.toml`

`Windows` é…ç½®æ–‡ä»¶ä½ç½®

-   `C:\Users\username\AppData\Roaming\RustDesk\config\RustDesk.toml`

`Windows`ä¸‹æœåŠ¡æ¨¡å¼ï¼ˆæŒ‡å®š`--service`ï¼‰çš„é…ç½®æ–‡ä»¶ï¼Œä¼šè¦†ç›–`C:\Users\username`ä¸‹çš„`RustDesk.toml`

-   `C:\Windows\ServiceProfiles\LocalService\AppData\Roaming\RustDesk\config\RustDesk.toml`

## âœ¨ åŠŸèƒ½

*   ğŸ”’ ç”ŸæˆåŠ å¯†åçš„è‡ªå®šä¹‰ ID
*   ğŸ”“ å¯¹åŠ å¯†åçš„ ID è¿›è¡Œè§£å¯†éªŒè¯
*   ğŸ”‘ ä½¿ç”¨ UUID ä½œä¸ºåŠ å¯†å’Œè§£å¯†å¯†é’¥
*   ğŸ“‹ è‡ªåŠ¨å¤åˆ¶åŠ å¯†/è§£å¯†ç»“æœåˆ°å‰ªè´´æ¿
*   ğŸ’¬ äº¤äº’å¼æ¨¡å¼ï¼Œæ“ä½œç®€ä¾¿
*   ğŸ“š å®Œå–„çš„å¸®åŠ©ç³»ç»Ÿ
*   ğŸŒ å¤šè¯­è¨€æ”¯æŒï¼ˆä¸­æ–‡/è‹±æ–‡ï¼‰
*   âŒ¨ï¸ å‘½ä»¤è¡Œç•Œé¢ï¼ŒåŒ…å«è¯¦ç»†å‚æ•°è¯´æ˜

## ğŸš€ å®‰è£…ä¸å¿«é€Ÿå¼€å§‹

### ğŸ“¦ æ–¹å¼ä¸€ï¼šä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæ¨èï¼‰

æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼æ˜¯ä»æˆ‘ä»¬çš„å‘å¸ƒé¡µé¢ä¸‹è½½é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š

**ğŸ“¥ [ä¸‹è½½æœ€æ–°ç‰ˆæœ¬](https://github.com/Jxpro/custom-rustdesk/releases)**

æ”¯æŒçš„å¹³å°ï¼š
- **Linux**: `custom-rustdesk-linux-x86_64-gnu`, `custom-rustdesk-linux-aarch64-gnu`
- **Linux (MUSL)**: `custom-rustdesk-linux-x86_64-musl`, `custom-rustdesk-linux-aarch64-musl`
- **Windows**: `custom-rustdesk-windows-x86_64.exe`, `custom-rustdesk-windows-aarch64.exe`
- **macOS**: `custom-rustdesk-macos-universal`ï¼ˆæ”¯æŒ Intel å’Œ Apple Siliconï¼‰

#### é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶å¿«é€Ÿå¼€å§‹ï¼š

1. ä¸‹è½½é€‚åˆæ‚¨å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶
2. æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆLinux/macOSï¼‰ï¼š`chmod +x custom-rustdesk-*`
3. ç›´æ¥è¿è¡Œï¼š
   ```bash
   # äº¤äº’å¼æ¨¡å¼
   ./custom-rustdesk-macos-universal
   
   # å‘½ä»¤è¡Œæ¨¡å¼
   ./custom-rustdesk-macos-universal --id 123456 --uuid your-uuid-here
   ```

### ğŸ”¨ æ–¹å¼äºŒï¼šä»æºç æ„å»º

å¦‚æœæ‚¨å¸Œæœ›ä»æºç æ„å»ºæˆ–éœ€è¦ä¿®æ”¹ä»£ç ï¼š

#### ğŸ“‹ å‰ç½®è¦æ±‚
- [Rust](https://rustup.rs/)ï¼ˆæœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼‰
- Git

#### ğŸ› ï¸ æ„å»ºæ­¥éª¤

1. **å…‹éš†ä»“åº“ï¼š**
   ```bash
   git clone https://github.com/Jxpro/custom-rustdesk.git
   cd custom-rustdesk
   ```

2. **æ„å»ºé¡¹ç›®ï¼š**
   ```bash
   cargo build --release
   ```

3. **è¿è¡Œæ„å»ºçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼š**
   ```bash
   # äº¤äº’å¼æ¨¡å¼
   cargo run --release
   
   # æˆ–ç›´æ¥è¿è¡Œæ„å»ºçš„äºŒè¿›åˆ¶æ–‡ä»¶
   ./target/release/custom-rustdesk
   ```

#### ğŸ§ª å¼€å‘æ„å»º
å¼€å‘æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨ cargo è¿è¡Œï¼š
```bash
cargo run
```

## ğŸ“˜ ä½¿ç”¨æ–¹æ³•

### ğŸ’¬ äº¤äº’å¼æ¨¡å¼

ä¸å¸¦å‚æ•°è¿è¡Œè¿›å…¥äº¤äº’å¼æ¨¡å¼ï¼š

```bash
# ä½¿ç”¨é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶
./custom-rustdesk-macos-universal

# æˆ–ä»æºç è¿è¡Œ
cargo run
```

äº¤äº’å¼èœå•æä¾›ï¼š
1. **åŠ å¯†æ¨¡å¼**ï¼šä»è‡ªå®šä¹‰ ID ç”ŸæˆåŠ å¯† ID
2. **è§£å¯†æ¨¡å¼**ï¼šéªŒè¯å¹¶è§£å¯†åŠ å¯† ID
3. **æŸ¥çœ‹å¸®åŠ©**ï¼šæ˜¾ç¤ºè¯¦ç»†å¸®åŠ©ä¿¡æ¯
4. **é€€å‡º**ï¼šé€€å‡ºåº”ç”¨ç¨‹åº

### âŒ¨ï¸ å‘½ä»¤è¡Œæ¨¡å¼

å·¥å…·æ”¯æŒå‘½ä»¤è¡Œå’Œäº¤äº’å¼ä¸¤ç§æ¨¡å¼ã€‚å‘½ä»¤è¡Œä½¿ç”¨æ–¹æ³•ï¼š

```bash
# ä½¿ç”¨é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼š
# ç”ŸæˆåŠ å¯† ID
./custom-rustdesk-macos-universal --id <è‡ªå®šä¹‰ID> --uuid <æœºå™¨UUID>

# éªŒè¯åŠ å¯† ID
./custom-rustdesk-macos-universal --eid <åŠ å¯†ID> --uuid <æœºå™¨UUID>

# è®¾ç½®è¯­è¨€ï¼ˆen/zhï¼‰
./custom-rustdesk-macos-universal --lang zh

# æ˜¾ç¤ºå¸®åŠ©
./custom-rustdesk-macos-universal --help

# ä»æºç è¿è¡Œï¼š
# ç”ŸæˆåŠ å¯† ID
cargo run -- --id <è‡ªå®šä¹‰ID> --uuid <æœºå™¨UUID>

# éªŒè¯åŠ å¯† ID
cargo run -- --eid <åŠ å¯†ID> --uuid <æœºå™¨UUID>

# è®¾ç½®è¯­è¨€ï¼ˆen/zhï¼‰
cargo run -- --lang zh

# æ˜¾ç¤ºå¸®åŠ©
cargo run -- --help
```

#### ğŸ“ å‘½ä»¤è¡Œå‚æ•°

- `-i, --id <ID>`ï¼šè¦åŠ å¯†çš„è‡ªå®šä¹‰ ID
- `-e, --eid <EID>`ï¼šè¦è§£å¯†çš„åŠ å¯† ID
- `-u, --uuid <UUID>`ï¼šç”¨äºåŠ å¯†/è§£å¯†çš„ UUID
- `-l, --lang <LANG>`ï¼šè®¾ç½®è¯­è¨€ï¼ˆen/zhï¼‰[é»˜è®¤ï¼šen]
- `-h, --help`ï¼šæ˜¾ç¤ºè¯¦ç»†å¸®åŠ©ä¿¡æ¯

### ğŸŒ è¯­è¨€æ”¯æŒ

å·¥å…·æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ï¼š
- é»˜è®¤è¯­è¨€ä¸ºè‹±æ–‡
- ä½¿ç”¨ `--lang zh` åˆ‡æ¢åˆ°ä¸­æ–‡ç•Œé¢
- è¯­è¨€è®¾ç½®å½±å“æ‰€æœ‰è¾“å‡ºï¼ŒåŒ…æ‹¬å¸®åŠ©æ–‡æœ¬å’Œé”™è¯¯ä¿¡æ¯

### ğŸ” è·å– UUID

#### ğŸ¤– è‡ªåŠ¨æ£€æµ‹ UUIDï¼ˆæ¨èï¼‰

**æœ¬å·¥å…·ç°å·²æ”¯æŒè‡ªåŠ¨æ£€æµ‹æœºå™¨ UUIDï¼** è¿™æ˜¯æœ€ç®€å•ã€æœ€ä¾¿æ·çš„æ–¹å¼ï¼š

- **äº¤äº’å¼æ¨¡å¼**ï¼šè¿è¡Œç¨‹åºæ—¶ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ˜¾ç¤ºæœºå™¨ UUIDï¼Œè¯¢é—®æ˜¯å¦ä½¿ç”¨
- **å‘½ä»¤è¡Œæ¨¡å¼**ï¼šå½“æœªæä¾› `--uuid` å‚æ•°æ—¶ï¼Œè‡ªåŠ¨æ£€æµ‹å¹¶ç¡®è®¤ä½¿ç”¨
- **è·¨å¹³å°æ”¯æŒ**ï¼šæ”¯æŒ Windowsã€macOS å’Œ Linux ç³»ç»Ÿ
- **ç”¨æˆ·ç¡®è®¤**ï¼šæ£€æµ‹åˆ° UUID åä¼šè¯¢é—®ç”¨æˆ·ç¡®è®¤ï¼Œç›´æ¥æŒ‰å›è½¦é”®é»˜è®¤é€‰æ‹©ã€Œæ˜¯ã€

ä½¿ç”¨ç¤ºä¾‹ï¼š
```bash
# è‡ªåŠ¨æ£€æµ‹ UUIDï¼ˆæ¨èæ–¹å¼ï¼‰
./custom-rustdesk-macos-universal --id 123456
# ç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹ UUID å¹¶è¯¢é—®ç¡®è®¤

# äº¤äº’å¼æ¨¡å¼ä¹Ÿæ”¯æŒè‡ªåŠ¨æ£€æµ‹
./custom-rustdesk-macos-universal
```

#### ğŸ“‹ æ‰‹åŠ¨è·å– UUID

å¦‚æœéœ€è¦æ‰‹åŠ¨è·å–æˆ–éªŒè¯ UUIDï¼Œä»¥ç”¨äºä¸ºå…¶ä»–è®¾å¤‡é…ç½® RustDeskï¼Œè¯·å‚è€ƒä»¥ä¸‹æ–¹æ³•ï¼š

>   ä½ è¿˜å¯ä»¥é€šè¿‡å®˜æ–¹å·¥å…· [machine-uid](https://github.com/rustdesk-org/machine-uid) è·å–æ›´å¤šå®Œæ•´ä¿¡æ¯

1.  **Windows:**

    -   æ‰“å¼€ç»ˆç«¯ã€‚
    -   è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š`(Get-ItemProperty -Path Registry::HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Cryptography).MachineGuid`
    -   å°† `MachineGuid` å€¼å¤åˆ¶ä¸º `uuid` å‚æ•°ã€‚

2.  **MacOS:**

    -   æ‰“å¼€ç»ˆç«¯ã€‚
    -   è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š`ioreg -rd1 -c IOPlatformExpertDevice | grep IOPlatformUUID`
    -   å°†è¾“å‡ºä¸­çš„ UUID å¤åˆ¶ä¸º `uuid` å‚æ•°ã€‚

3.  **Linux:**

    -   æ‰“å¼€ç»ˆç«¯ã€‚
    -   è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š`cat /etc/machine-id` æˆ– `cat /var/lib/dbus/machine-id`
    -   å°†è¾“å‡ºçš„æœºå™¨ ID å¤åˆ¶ä¸º `uuid` å‚æ•°ã€‚

### âœ… éªŒè¯ UUID

1.  ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶æˆ–å°†ä»£ç å…‹éš†åˆ°æœ¬åœ°
2.  åœ¨å¯¹åº”çš„é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ° `enc_id` å­—æ®µ
3.  è¿è¡ŒéªŒè¯å‘½ä»¤ï¼š
    ```bash
    # ä½¿ç”¨é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶
    ./custom-rustdesk-macos-universal --eid $enc_id --uuid $uuid
    
    # æˆ–ä»æºç è¿è¡Œ
    cargo run -- --eid $enc_id --uuid $uuid
    ```
4.  ç¨‹åºä¼šè¾“å‡ºè§£å¯†åçš„ IDï¼Œä¸å½“å‰ ID æ¯”è¾ƒæ˜¯å¦ä¸€è‡´

### ğŸ¯ è‡ªå®šä¹‰ID

#### ğŸš€ ä½¿ç”¨è‡ªåŠ¨æ£€æµ‹ UUIDï¼ˆæ¨èï¼‰

1.  ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶æˆ–å°†ä»£ç å…‹éš†åˆ°æœ¬åœ°
2.  è¿è¡ŒåŠ å¯†å‘½ä»¤ï¼ˆæ— éœ€æ‰‹åŠ¨æä¾› UUIDï¼‰ï¼š
    ```bash
    # ä½¿ç”¨é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶
    ./custom-rustdesk-macos-universal --id æˆ‘çš„ç”µè„‘
    
    # æˆ–ä»æºç è¿è¡Œ
    cargo run -- --id æˆ‘çš„ç”µè„‘
    ```
3.  ç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹ UUID å¹¶è¯¢é—®ç¡®è®¤ï¼Œç›´æ¥æŒ‰å›è½¦é”®æˆ–è¾“å…¥ `y` ç¡®è®¤
4.  ç¨‹åºè¾“å‡ºåŠ å¯†åçš„ IDï¼Œå¤åˆ¶å¹¶æ›¿æ¢åˆ°é…ç½®æ–‡ä»¶ä¸­çš„ `enc_id` å­—æ®µ

#### ğŸ“‹ æ‰‹åŠ¨æŒ‡å®š UUID

å¦‚æœéœ€è¦ä½¿ç”¨ç‰¹å®šçš„ UUIDï¼Œå¯ä»¥æ‰‹åŠ¨æŒ‡å®šï¼š

```bash
# ä½¿ç”¨é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶
./custom-rustdesk-macos-universal --id æˆ‘çš„ç”µè„‘ --uuid 12345678-1234-1234-1234-123456789012

# ä»æºç è¿è¡Œ
cargo run -- --id æˆ‘çš„ç”µè„‘ --uuid 12345678-1234-1234-1234-123456789012
```

#### ğŸ’¡ ç¨‹åºè¿è¡Œç¤ºä¾‹

**è‡ªåŠ¨æ£€æµ‹æ¨¡å¼ï¼š**
```bash
$ ./custom-rustdesk-macos-universal --id æµ‹è¯•ç”µè„‘
ğŸ¤– è‡ªåŠ¨æ£€æµ‹åˆ°æœºå™¨ UUIDï¼š
ğŸ“± æ£€æµ‹åˆ°çš„ UUID: 3C17252C-4A25-54AB-8A92-B88D3D6665AA

âœ… ä½¿ç”¨æ­¤ UUIDï¼Ÿ(y/n): [ç›´æ¥æŒ‰å›è½¦æˆ–è¾“å…¥y]
"æµ‹è¯•ç”µè„‘" å·²åŠ å¯†ä¸º "00u33upzDoDQeMfJZ36o3owBtJ0Ip8qKr2dff8qsbAug=="
âœ… å·²å¤åˆ¶åˆ°å‰ªåˆ‡æ¿
ğŸ“ è¯·å°†é…ç½®æ–‡ä»¶ä¸­çš„ id æ›¿æ¢ä¸º enc_id å­—æ®µ
```

**æ‰‹åŠ¨æŒ‡å®šæ¨¡å¼ï¼š**
```bash
$ ./custom-rustdesk-macos-universal --id æµ‹è¯•ç”µè„‘ --uuid 12345678-1234-1234-1234-123456789012
"æµ‹è¯•ç”µè„‘" å·²åŠ å¯†ä¸º "00M72xC5id8C/F+IsG6VOWs5MEV2xhPI/nBBo="
âœ… å·²å¤åˆ¶åˆ°å‰ªåˆ‡æ¿
ğŸ“ è¯·å°†é…ç½®æ–‡ä»¶ä¸­çš„ id æ›¿æ¢ä¸º enc_id å­—æ®µ
```

## ğŸ” åŠ å¯†æµç¨‹

è¯¥ç¨‹åºä½¿ç”¨`sodiumoxide `åº“ä¸­çš„`crypto::secretbox` æ¨¡å—è¿›è¡Œå¯¹ç§°åŠ å¯†ã€‚åŠ å¯†å¯†é’¥æ¥è‡ªæä¾›çš„ UUID å­—ç¬¦ä¸²ã€‚

1.   å°†è‡ªå®šä¹‰ ID å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ã€‚
2.   å°† UUID å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ï¼Œå¹¶è°ƒæ•´å…¶å¤§å°ä»¥åŒ¹é…å¯†é’¥é•¿åº¦è¦æ±‚ã€‚
3.   ä½¿ç”¨`sodiumoxide::crypto::secretbox`æ¨¡å—åˆ›å»ºå¯†é’¥å’Œ`nonce`ã€‚
4.   æ ¹æ®`encrypt`å‚æ•°é€‰æ‹©åŠ å¯†æˆ–è§£å¯†æ“ä½œã€‚
5.   ä½¿ç”¨`secretbox::seal`æˆ–`secretbox::open`å‡½æ•°è¿›è¡ŒåŠ å¯†æˆ–è§£å¯†æ“ä½œã€‚
6.   å°†åŠ å¯†åçš„å­—èŠ‚æ•°ç»„è½¬æ¢ä¸º`base64`ç¼–ç å­—ç¬¦ä¸²ï¼Œå¹¶è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æ‚¨å¯¹è¯¥é¡¹ç›®è¿›è¡Œè´¡çŒ®ï¼æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å‚ä¸ï¼š

-   æäº¤ä»£ç è¡¥ä¸æˆ–é—®é¢˜æŠ¥å‘Š
-   æä¾›åé¦ˆå’Œå»ºè®®
-   å¸®åŠ©æ¨å¹¿é¡¹ç›®

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœæœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åˆ° [github issue](https://github.com/Jxpro/custom-rustdesk/issues) è¿›è¡Œè®¨è®ºï¼Œæˆ–å‘é€ç”µå­é‚®ä»¶åˆ° [jxpro@qq.com](mailto:jxpro@qq.com) æ¥è”ç³»æˆ‘